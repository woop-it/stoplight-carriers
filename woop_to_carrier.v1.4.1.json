{
  "openapi": "3.0.2",
  "info": {
    "title": "Woop vers Transporteur",
    "description": "Pour commencer, toutes les informations technique concernant les API Woop à destination des transporteurs sont centralisées dans cette documentation. Pour toute question ou précision, merci de contacter l'équipe technique interne.\n\nPour utiliser les API \"Woop vers Transporteur\", vous devez vous munir des vos accès identifiants secret fournis lors de la création de votre compte transporteur au sein de la palteforme.\n\nLa version actuellement proposée dans la documentation est la **Version 1.4.0**",
    "version": "1.4.0"
  },
  "paths": {
    "/quotes": {
      "post": {
        "tags": [
          "Devis"
        ],
        "description": "Cette méthode permet de recevoir les demandes de devis. Si le devis est validé, les informations transmises seront utilisées lors de la création de l'ordre de livraison à l'aide du POST /deliveries. ",
        "operationId": "postQuote",
        "requestBody": {
          "required": true,
          "description": "Contient les informations nécessaire à la création d'un devis de livraison. ",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/postQuote"
              },
              "examples": {
                "Exemple par défaut": {
                  "value": {
                    "orderId": "65zq1d5qz1d56q1",
                    "referenceNumber": "65zq1d5qz1d56q1-456",
                    "retailer": {
                      "name": "Enseigne A",
                      "id": "ret123",
                      "store": {
                        "id": "store123",
                        "name": "Magasin C",
                        "contact": {
                          "firstName": "Pierre",
                          "lastName": "Dupond",
                          "phone": "+33600000000",
                          "email": "pierre.dupond@mail.fr"
                        }
                      }
                    },
                    "picking": {
                      "address": {
                        "addressLine1": "179 Boulevard de Turin",
                        "addressLine2": "",
                        "postalCode": "59000",
                        "city": "Lille",
                        "country": "FR"
                      },
                      "infos": "Travaux sur le boulevard.",
                      "interval": [
                        {
                          "start": "2019-12-04T12:30:00+0000",
                          "end": "2019-12-04T13:30:00+0000"
                        }
                      ]
                    },
                    "delivery": {
                      "address": {
                        "addressLine1": "165 avenue de Bretagne",
                        "addressLine2": "Euratech - EuraTechnologies",
                        "elevator": true,
                        "floor": 2,
                        "postalCode": "59000",
                        "city": "Lille",
                        "country": "FR"
                      },
                      "interval": [
                        {
                          "start": "2019-12-06T13:00:00+0000",
                          "end": "2019-12-06T15:00:00+0000"
                        }
                      ]
                    },
                    "packages": [
                      {
                        "length": {
                          "value": 121.8,
                          "unit": "cm"
                        },
                        "width": {
                          "value": 77.5,
                          "unit": "cm"
                        },
                        "height": {
                          "value": 55,
                          "unit": "cm"
                        },
                        "weight": {
                          "value": 33.4,
                          "unit": "kg"
                        },
                        "products": [
                          {
                            "type": "TYPOLOGY_GENERIC",
                            "ean": "4897567123548",
                            "cug": "e21fe21",
                            "label": "Produit label 1",
                            "quantity": 1
                          }
                        ],
                        "quantity": 2
                      }
                    ],
                    "services": [
                      "SERVICE_SELECTED_ROOM"
                    ]
                  }
                },
                "Exemple avec le prix des produits": {
                  "value": {
                    "orderId": "65zq1d5qz1d56q1",
                    "referenceNumber": "65zq1d5qz1d56q1-456",
                    "retailer": {
                      "name": "Enseigne A",
                      "id": "ret123",
                      "store": {
                        "id": "store123",
                        "name": "Magasin C",
                        "contact": {
                          "firstName": "Pierre",
                          "lastName": "Dupond",
                          "phone": "+33600000000",
                          "email": "pierre.dupond@mail.fr"
                        }
                      }
                    },
                    "picking": {
                      "address": {
                        "addressLine1": "179 Boulevard de Turin",
                        "addressLine2": "",
                        "postalCode": "59000",
                        "city": "Lille",
                        "country": "FR"
                      },
                      "infos": "Travaux sur le boulevard.",
                      "interval": [
                        {
                          "start": "2019-12-04T12:30:00+0000",
                          "end": "2019-12-04T13:30:00+0000"
                        }
                      ]
                    },
                    "delivery": {
                      "address": {
                        "addressLine1": "165 avenue de Bretagne",
                        "addressLine2": "Euratech - EuraTechnologies",
                        "elevator": true,
                        "floor": 2,
                        "postalCode": "59000",
                        "city": "Lille",
                        "country": "FR"
                      },
                      "interval": [
                        {
                          "start": "2019-12-06T13:00:00+0000",
                          "end": "2019-12-06T15:00:00+0000"
                        }
                      ]
                    },
                    "packages": [
                      {
                        "length": {
                          "value": 121.8,
                          "unit": "cm"
                        },
                        "width": {
                          "value": 77.5,
                          "unit": "cm"
                        },
                        "height": {
                          "value": 55,
                          "unit": "cm"
                        },
                        "weight": {
                          "value": 33.4,
                          "unit": "kg"
                        },
                        "products": [
                          {
                            "type": "TYPOLOGY_GENERIC",
                            "ean": "4897567123548",
                            "cug": "e21fe21",
                            "label": "Produit label 1",
                            "quantity": 1
                          }
                        ],
                        "quantity": 2
                      }
                    ],
                    "services": [
                      "SERVICE_SELECTED_ROOM",
                      "SERVICE_ASSEMBLY"
                    ],
                    "productsPrice": {
                      "value": 30,
                      "currency": "EUR"
                    }
                  }
                },
                "Exemple avec tags": {
                  "value": {
                    "orderId": "65zq1d5qz1d56q1",
                    "referenceNumber": "65zq1d5qz1d56q1-456",
                    "retailer": {
                      "name": "Enseigne A",
                      "id": "ret123",
                      "store": {
                        "id": "store123",
                        "name": "Magasin C",
                        "contact": {
                          "firstName": "Pierre",
                          "lastName": "Dupond",
                          "phone": "+33600000000",
                          "email": "pierre.dupond@mail.fr"
                        }
                      }
                    },
                    "picking": {
                      "address": {
                        "addressLine1": "179 Boulevard de Turin",
                        "addressLine2": "",
                        "postalCode": "59000",
                        "city": "Lille",
                        "country": "FR"
                      },
                      "infos": "Travaux sur le boulevard.",
                      "interval": [
                        {
                          "start": "2019-12-04T12:30:00+0000",
                          "end": "2019-12-04T13:30:00+0000"
                        }
                      ]
                    },
                    "delivery": {
                      "address": {
                        "addressLine1": "165 avenue de Bretagne",
                        "addressLine2": "Euratech - EuraTechnologies",
                        "elevator": true,
                        "floor": 2,
                        "postalCode": "59000",
                        "city": "Lille",
                        "country": "FR"
                      },
                      "interval": [
                        {
                          "start": "2019-12-06T13:00:00+0000",
                          "end": "2019-12-06T15:00:00+0000"
                        }
                      ]
                    },
                    "packages": [
                      {
                        "length": {
                          "value": 121.8,
                          "unit": "cm"
                        },
                        "width": {
                          "value": 77.5,
                          "unit": "cm"
                        },
                        "height": {
                          "value": 55,
                          "unit": "cm"
                        },
                        "weight": {
                          "value": 33.4,
                          "unit": "kg"
                        },
                        "products": [
                          {
                            "type": "TYPOLOGY_GENERIC",
                            "ean": "4897567123548",
                            "cug": "e21fe21",
                            "label": "Produit label 1",
                            "quantity": 1
                          }
                        ],
                        "quantity": 2
                      }
                    ],
                    "services": [
                      "SERVICE_SELECTED_ROOM"
                    ],
                    "tags": [
                      {
                        "key": "origin",
                        "value": "web"
                      }
                    ]
                  }
                }
              }
            },
            "application/xml": {
              "schema": {
                "type": "object",
                "properties": {}
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Code succès, les devis ont été générés pour la commande. Tous les transporteurs solicités possèdent un identifiant de devis pour accepter la livraison.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "description": "Liste des devis",
                  "items": {
                    "$ref": "#/components/schemas/quote"
                  }
                },
                "examples": {
                  "Exemple": {
                    "value": [
                      {
                        "quoteId": "4zd5z4d5zd",
                        "price": {
                          "value": 135.56,
                          "currency": "EUR"
                        },
                        "vehicleType": "VEHICLE_TYPE_BIKE"
                      }
                    ]
                  }
                }
              }
            }
          },
          "202": {
            "description": "Code succès, les devis ont été générés pour la commande. Tous les transporteurs solicités possèdent un identifiant de devis pour accepter la livraison.\n\n[Voir les motifs de refus](https://woop.stoplight.io/docs/carrier/docs/Mod%C3%A8les/Motifs-de-refus.md)",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "reasons"
                  ],
                  "properties": {
                    "reasons": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/refusedReason"
                      }
                    },
                    "comment": {
                      "type": "string"
                    }
                  }
                },
                "examples": {
                  "Exemple": {
                    "value": {
                      "reasons": [
                        "REFUSED_TOO_HEAVY"
                      ],
                      "comment": "C'est trop lourd !"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Des élèments sont manquants et/ou incorrect dans le body. ",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "reasons": {
                      "type": "array",
                      "items": {
                        "type": "string",
                        "example": "Missing argument 'xxxxx'"
                      }
                    }
                  }
                },
                "examples": {
                  "Exemple": {
                    "value": {
                      "reasons": [
                        "Missing argument 'xxxxx'"
                      ]
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "Demande de devis"
      }
    },
    "/quotes/{quoteId}": {
      "delete": {
        "tags": [
          "Devis"
        ],
        "description": "Cette méthode permet de recevoir les demandes d'annulation d'un devis.",
        "operationId": "deleteQuote",
        "parameters": [
          {
            "$ref": "#/components/parameters/pathQuoteId"
          }
        ],
        "responses": {
          "204": {
            "description": "Devis annul avec succès"
          },
          "403": {
            "description": "Le devis ne peut pas/plus être annulé"
          },
          "404": {
            "description": "L'identifiant du devis quoteId n'existe pas"
          }
        },
        "summary": "Annulation d'un devis"
      },
      "parameters": [
        {
          "schema": {
            "type": "string"
          },
          "name": "quoteId",
          "in": "path",
          "required": true,
          "description": "Numéro de devis"
        }
      ]
    },
    "/deliveries": {
      "post": {
        "operationId": "postDelivery",
        "description": "Cette méthode permet de valider un devis et de recevoir l'ordre de livraison. Elle fournit en réponse, les informations supplémentaires utiles à la livraison.",
        "requestBody": {
          "required": true,
          "description": "Contient les informations requis pour la création d'une demande de livraison.",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/postDelivery"
              },
              "examples": {
                "Exemple par défaut": {
                  "value": {
                    "orderId": "65zq1d5qz1d56q1",
                    "quoteId": "4zd5z4d5zd",
                    "referenceNumber": "65zq1d5qz1d56q1-456",
                    "retailer": {
                      "name": "Enseigne A",
                      "id": "ret123",
                      "store": {
                        "id": "store123",
                        "name": "Magasin C",
                        "contact": {
                          "firstName": "Pierre",
                          "lastName": "Dupond",
                          "phone": "+33600000000",
                          "email": "pierre.dupond@mail.fr"
                        }
                      }
                    },
                    "picking": {
                      "contact": {
                        "firstName": "Michel",
                        "lastName": "Dupont",
                        "phone": "+33600000000",
                        "email": "michel.dupont@mail.fr"
                      },
                      "address": {
                        "addressLine1": "237 rue du Ballon",
                        "addressLine2": "Niji",
                        "postalCode": "59110",
                        "city": "La Madeleine",
                        "country": "FR"
                      },
                      "infos": "Travaux en ce moment attention.",
                      "interval": [
                        {
                          "start": "2019-12-04T12:30:00+0000",
                          "end": "2019-12-04T13:30:00+0000"
                        }
                      ]
                    },
                    "delivery": {
                      "contact": {
                        "firstName": "John",
                        "lastName": "Doe",
                        "phone": "+33600000000",
                        "email": "john.doe@mail.fr",
                        "language": "fr-FR",
                        "timezone": "Europe/Paris"
                      },
                      "address": {
                        "addressLine1": "165 avenue de Bretagne",
                        "elevator": true,
                        "floor": 2,
                        "postalCode": "59000",
                        "city": "Lille",
                        "country": "FR"
                      },
                      "interval": [
                        {
                          "start": "2019-12-06T13:00:00+0000",
                          "end": "2019-12-06T15:00:00+0000"
                        }
                      ]
                    },
                    "packages": [
                      {
                        "length": {
                          "value": 15,
                          "unit": "cm"
                        },
                        "width": {
                          "value": 35.5,
                          "unit": "cm"
                        },
                        "height": {
                          "value": 1.25,
                          "unit": "m"
                        },
                        "weight": {
                          "value": 12.35,
                          "unit": "kg"
                        },
                        "products": [
                          {
                            "type": "TYPOLOGY_GENERIC",
                            "ean": "4897567123548",
                            "cug": "e21fe21",
                            "label": "Armoire",
                            "quantity": 1
                          }
                        ],
                        "references": [
                          "1234A"
                        ],
                        "quantity": 1
                      }
                    ],
                    "services": [
                      "SERVICE_SELECTED_ROOM"
                    ]
                  }
                },
                "Exemple avec le prix des produits": {
                  "value": {
                    "orderId": "65zq1d5qz1d56q1",
                    "quoteId": "4zd5z4d5zd",
                    "referenceNumber": "65zq1d5qz1d56q1-456",
                    "retailer": {
                      "name": "Enseigne A",
                      "id": "ret123",
                      "store": {
                        "id": "store123",
                        "name": "Magasin C",
                        "contact": {
                          "firstName": "Pierre",
                          "lastName": "Dupond",
                          "phone": "+33600000000",
                          "email": "pierre.dupond@mail.fr"
                        }
                      }
                    },
                    "picking": {
                      "contact": {
                        "firstName": "Michel",
                        "lastName": "Dupont",
                        "phone": "+33600000000",
                        "email": "michel.dupont@mail.fr"
                      },
                      "address": {
                        "addressLine1": "237 rue du Ballon",
                        "addressLine2": "Niji",
                        "postalCode": "59110",
                        "city": "La Madeleine",
                        "country": "FR"
                      },
                      "infos": "Travaux en ce moment attention.",
                      "interval": [
                        {
                          "start": "2019-12-04T12:30:00+0000",
                          "end": "2019-12-04T13:30:00+0000"
                        }
                      ]
                    },
                    "delivery": {
                      "contact": {
                        "firstName": "John",
                        "lastName": "Doe",
                        "phone": "+33600000000",
                        "email": "john.doe@mail.fr"
                      },
                      "address": {
                        "addressLine1": "165 avenue de Bretagne",
                        "elevator": true,
                        "floor": 2,
                        "postalCode": "59000",
                        "city": "Lille",
                        "country": "FR"
                      },
                      "interval": [
                        {
                          "start": "2019-12-06T13:00:00+0000",
                          "end": "2019-12-06T15:00:00+0000"
                        }
                      ]
                    },
                    "packages": [
                      {
                        "length": {
                          "value": 15,
                          "unit": "cm"
                        },
                        "width": {
                          "value": 35.5,
                          "unit": "cm"
                        },
                        "height": {
                          "value": 1.25,
                          "unit": "m"
                        },
                        "weight": {
                          "value": 12.35,
                          "unit": "kg"
                        },
                        "products": [
                          {
                            "type": "TYPOLOGY_GENERIC",
                            "ean": "4897567123548",
                            "cug": "e21fe21",
                            "label": "Armoire",
                            "quantity": 1
                          }
                        ],
                        "quantity": 2
                      }
                    ],
                    "services": [
                      "SERVICE_SELECTED_ROOM",
                      "SERVICE_ASSEMBLY"
                    ],
                    "productsPrice": {
                      "value": 30,
                      "currency": "EUR"
                    }
                  }
                },
                "Exemple avec tags": {
                  "value": {
                    "orderId": "65zq1d5qz1d56q1",
                    "quoteId": "4zd5z4d5zd",
                    "referenceNumber": "65zq1d5qz1d56q1-456",
                    "retailer": {
                      "name": "Enseigne A",
                      "id": "ret123",
                      "store": {
                        "id": "store123",
                        "name": "Magasin C",
                        "contact": {
                          "firstName": "Pierre",
                          "lastName": "Dupond",
                          "phone": "+33600000000",
                          "email": "pierre.dupond@mail.fr"
                        }
                      }
                    },
                    "picking": {
                      "contact": {
                        "firstName": "Michel",
                        "lastName": "Dupont",
                        "phone": "+33600000000",
                        "email": "michel.dupont@mail.fr"
                      },
                      "address": {
                        "addressLine1": "237 rue du Ballon",
                        "addressLine2": "Niji",
                        "postalCode": "59110",
                        "city": "La Madeleine",
                        "country": "FR"
                      },
                      "infos": "Travaux en ce moment attention.",
                      "interval": [
                        {
                          "start": "2019-12-04T12:30:00+0000",
                          "end": "2019-12-04T13:30:00+0000"
                        }
                      ]
                    },
                    "delivery": {
                      "contact": {
                        "firstName": "John",
                        "lastName": "Doe",
                        "phone": "+33600000000",
                        "email": "john.doe@mail.fr",
                        "language": "fr-FR",
                        "timezone": "Europe/Paris"
                      },
                      "address": {
                        "addressLine1": "165 avenue de Bretagne",
                        "elevator": true,
                        "floor": 2,
                        "postalCode": "59000",
                        "city": "Lille",
                        "country": "FR"
                      },
                      "interval": [
                        {
                          "start": "2019-12-06T13:00:00+0000",
                          "end": "2019-12-06T15:00:00+0000"
                        }
                      ]
                    },
                    "packages": [
                      {
                        "length": {
                          "value": 15,
                          "unit": "cm"
                        },
                        "width": {
                          "value": 35.5,
                          "unit": "cm"
                        },
                        "height": {
                          "value": 1.25,
                          "unit": "m"
                        },
                        "weight": {
                          "value": 12.35,
                          "unit": "kg"
                        },
                        "products": [
                          {
                            "type": "TYPOLOGY_GENERIC",
                            "ean": "4897567123548",
                            "cug": "e21fe21",
                            "label": "Armoire",
                            "quantity": 1
                          }
                        ],
                        "references": [
                          "1234A"
                        ],
                        "quantity": 1
                      }
                    ],
                    "services": [
                      "SERVICE_SELECTED_ROOM"
                    ],
                    "tags": [
                      {
                        "key": "origin",
                        "value": "web"
                      }
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "La livraison est acceptée, un 'deliveryId' est retourné, additionnellement un tableau d'id de 'packages' peut être retourné en cas de tracking par colis, un tableau d'étiquettes peut être aussi retourné.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/deliveryCreated"
                },
                "examples": {
                  "Exemple par défaut": {
                    "value": {
                      "deliveryId": "5q4f5q4zd"
                    }
                  },
                  "Exemple avec suivi de colis": {
                    "value": {
                      "deliveryId": "5q4f5q4zd",
                      "packages": [
                        {
                          "id": "pack123"
                        }
                      ]
                    }
                  },
                  "Exemple avec référence de livraison": {
                    "value": {
                      "deliveryId": "5q4f5q4zd",
                      "externalReference": "12254-AX"
                    }
                  },
                  "Exemple avec étiquettes de livraison": {
                    "value": {
                      "deliveryId": "5q4f5q4zd",
                      "labels": [
                        {
                          "id": "LBL001",
                          "type": "base64",
                          "mode": "jpeg",
                          "value": "UklGRvwNAABXRUJQVlA4TPANAAA...",
                          "packageId": "5q4f5q4zd"
                        },
                        {
                          "id": "LBL002",
                          "type": "url",
                          "mode": "jpeg",
                          "value": "http://url.com",
                          "packageId": "5q5f5q4zb"
                        },
                        {
                          "id": "LBL003",
                          "packageId": "5q5f5q4zb"
                        }
                      ]
                    }
                  }
                }
              }
            }
          },
          "205": {
            "description": "La livraison est finalement refusée, les valeurs possibles des motifs de refus sont renseignées dans \"reasons\". \n\n[Voir les motifs de refus](https://woop.stoplight.io/docs/carrier/docs/Mod%C3%A8les/Motifs-de-refus.md)",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "reasons": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/refusedReason"
                      }
                    },
                    "comment": {
                      "type": "string"
                    }
                  }
                },
                "examples": {
                  "Exemple": {
                    "value": {
                      "reasons": [
                        "REFUSED_TOO_HEAVY"
                      ],
                      "comment": "Finalement je ne prends pas cette livraison."
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Elements manquants et/ou incorrect dans le body",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "reasons": {
                      "type": "array",
                      "items": {
                        "type": "string",
                        "example": "Missing argument 'xxxxx'"
                      }
                    }
                  }
                },
                "examples": {
                  "Exemple": {
                    "value": {
                      "reasons": [
                        "Missing argument 'xxxxx'"
                      ]
                    }
                  }
                }
              }
            }
          }
        },
        "tags": [
          "Livraison"
        ],
        "summary": "Demande de livraison"
      }
    },
    "/deliveries/{deliveryId}": {
      "delete": {
        "tags": [
          "Livraison"
        ],
        "description": "Cette méthode permet d'envoyer un demande d'annulation d'une livraison pour la confirmer auprès du transporteur. Le transporteur n'a pas besoin de faire une demande d'annulation à la réception de cette demande.",
        "operationId": "deleteDelivery",
        "parameters": [
          {
            "$ref": "#/components/parameters/pathDeliveryId"
          }
        ],
        "requestBody": {
          "required": true,
          "description": "Contient les informations sur les motifs de l'annulation de la livraison.",
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "description": "Informations d'annulation",
                "properties": {
                  "reasons": {
                    "type": "array",
                    "description": "Liste des motifs d'annulation",
                    "items": {
                      "$ref": "#/components/schemas/cancelledReason"
                    }
                  },
                  "comment": {
                    "type": "string",
                    "description": "Commentaire libre"
                  }
                },
                "required": [
                  "reasons",
                  "comment"
                ]
              },
              "examples": {
                "Exemple": {
                  "value": {
                    "reasons": [
                      "CANCELLED_CANNOT_SERVICE"
                    ],
                    "comment": "En fait non."
                  }
                }
              }
            }
          }
        },
        "responses": {
          "202": {
            "description": "Livraison déjà annulée"
          },
          "204": {
            "description": "Livraison annulée avec succès"
          },
          "400": {
            "description": "Elements manquants et/ou incorrect dans le body",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "reasons": {
                      "type": "array",
                      "items": {
                        "type": "string",
                        "example": "Missing argument 'xxxxx'"
                      }
                    }
                  }
                },
                "examples": {
                  "Exemple": {
                    "value": {
                      "reasons": [
                        "Missing argument 'xxxxx'"
                      ]
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "La commande ne peut être annulée",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "description": "Informations du refus d'annulation",
                  "properties": {
                    "reasons": {
                      "type": "array",
                      "description": "Liste des motifs du refus d'annulation",
                      "items": {
                        "type": "string"
                      }
                    },
                    "comment": {
                      "type": "string",
                      "description": "Commentaire libre"
                    }
                  }
                },
                "examples": {
                  "Exemple": {
                    "value": {
                      "reasons": [
                        "Missing argument 'xxxxx'"
                      ],
                      "comment": "C'est trop tard !"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Le 'deliveryId' n'existe pas"
          }
        },
        "summary": "Annulation d'une livraison"
      },
      "patch": {
        "tags": [
          "Livraison"
        ],
        "description": "Cette méthode permet de recevoir les demandes de mise à jour d'une livraison.",
        "operationId": "patchDelivery",
        "parameters": [
          {
            "$ref": "#/components/parameters/pathDeliveryId"
          }
        ],
        "requestBody": {
          "required": true,
          "description": "Contient les informations de mise à jour d'une livraison.",
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "description": "Mise à jour de livraison",
                "properties": {
                  "picking": {
                    "type": "object",
                    "description": "Informations sur l'adresse de prélèvement",
                    "properties": {
                      "address": {
                        "$ref": "#/components/schemas/address"
                      },
                      "infos": {
                        "type": "string",
                        "description": "Informations libre à propos de l'adresse"
                      },
                      "interval": {
                        "type": "array",
                        "description": "Créneaux de prélèvement",
                        "items": {
                          "$ref": "#/components/schemas/interval"
                        }
                      },
                      "contact": {
                        "$ref": "#/components/schemas/contact"
                      }
                    },
                    "required": [
                      "address",
                      "interval",
                      "contact"
                    ]
                  },
                  "delivery": {
                    "type": "object",
                    "description": "Informations sur l'adresse de livraison",
                    "properties": {
                      "address": {
                        "$ref": "#/components/schemas/address"
                      },
                      "infos": {
                        "type": "string",
                        "description": "Informations libre à propos de l'adresse de livraison"
                      },
                      "interval": {
                        "type": "array",
                        "description": "Créneaux de livraison",
                        "items": {
                          "$ref": "#/components/schemas/interval"
                        }
                      },
                      "contact": {
                        "$ref": "#/components/schemas/contact"
                      }
                    },
                    "required": [
                      "address",
                      "interval",
                      "contact"
                    ]
                  },
                  "packages": {
                    "type": "array",
                    "description": "Ensemble des colis",
                    "items": {
                      "$ref": "#/components/schemas/package"
                    }
                  },
                  "services": {
                    "$ref": "#/components/schemas/services"
                  },
                  "referenceNumber": {
                    "type": "string",
                    "description": "Référence de la commande, numéro associé à un magasin. "
                  }
                }
              },
              "examples": {
                "Exemple": {
                  "value": {
                    "picking": {
                      "contact": {
                        "firstName": "John",
                        "lastName": "Doe",
                        "phone": "+33600000000",
                        "email": "john.doe@mail.fr",
                        "language": "fr-FR",
                        "timezone": "Europe/Paris"
                      },
                      "address": {
                        "addressLine1": "165 avenue de Bretagne",
                        "elevator": true,
                        "floor": 2,
                        "postalCode": "59000",
                        "city": "Lille",
                        "country": "FR"
                      },
                      "interval": [
                        {
                          "start": "2019-12-04T12:30:00+0000",
                          "end": "2019-12-04T13:30:00+0000"
                        }
                      ]
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Livraison mis à jour avec succès"
          },
          "401": {
            "description": "Vous n'êtes pas autorisé à accéder à cet élément."
          },
          "403": {
            "description": "La commande ne peut être modifiée",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "reasons": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "comment": {
                      "type": "string"
                    }
                  }
                },
                "examples": {
                  "Exemple": {
                    "value": {
                      "reasons": [
                        "Missing argument 'xxxxx'"
                      ],
                      "comment": "C'est trop tard !"
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "Mise à jour d'une livraison"
      }
    },
    "/deliveries/{deliveryId}/score": {
      "put": {
        "tags": [
          "Livraison"
        ],
        "description": "Cette méthode permet de recevoir la notification d'une nouvelle note d'une livraison.",
        "operationId": "putDeliveryScore",
        "parameters": [
          {
            "$ref": "#/components/parameters/pathDeliveryId"
          }
        ],
        "requestBody": {
          "required": true,
          "description": "Contient la note client.",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/notation"
              },
              "examples": {
                "Exemple": {
                  "value": {
                    "score": [
                      {
                        "note": 9,
                        "type": "SCORE_TYPE_RECOMMENDATION"
                      }
                    ],
                    "comment": "Je recommande à 200% !"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Note enregistrée avec succès"
          },
          "400": {
            "description": "Elements manquants et/ou incorrect dans le body",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "reasons": {
                      "type": "array",
                      "items": {
                        "type": "string",
                        "example": "Missing argument 'xxxxx'"
                      }
                    }
                  }
                },
                "examples": {
                  "Exemple": {
                    "value": {
                      "reasons": [
                        "Missing argument 'xxxxx'"
                      ]
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Le 'deliveryId' n'existe pas"
          }
        },
        "summary": "Ajout d'une note d'une livraison"
      }
    },
    "/pickupPoints": {
      "get": {
        "summary": "Recherche de points relais",
        "tags": [
          "Point Relais"
        ],
        "responses": {
          "200": {
            "description": "OK, Contient les points relais",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "pickupPoints": {
                      "type": "array",
                      "description": "Informations sur les point relais",
                      "items": {
                        "type": "object",
                        "properties": {
                          "address": {
                            "allOf": [
                              {
                                "$ref": "#/components/schemas/address"
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "title": {
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "title"
                                ]
                              }
                            ],
                            "description": "Adresse du point relais"
                          },
                          "coordinates": {
                            "$ref": "#/components/schemas/coordinates"
                          },
                          "id": {
                            "type": "string",
                            "description": "Id du point relais"
                          },
                          "openingHours": {
                            "type": "object",
                            "description": "Horaires d'ouverture du point relais",
                            "properties": {
                              "monday": {
                                "type": "array",
                                "description": "Horaires du lundi",
                                "items": {
                                  "$ref": "#/components/schemas/interval_hour"
                                }
                              },
                              "tuesday": {
                                "type": "array",
                                "description": "Horaires du mardi",
                                "items": {
                                  "$ref": "#/components/schemas/interval_hour"
                                }
                              },
                              "wednesday": {
                                "type": "array",
                                "description": "Horaires du mercredi",
                                "items": {
                                  "$ref": "#/components/schemas/interval_hour"
                                }
                              },
                              "thursday": {
                                "type": "array",
                                "description": "Horaires du jeudi",
                                "items": {
                                  "$ref": "#/components/schemas/interval_hour"
                                }
                              },
                              "friday": {
                                "type": "array",
                                "description": "Horaires du vendredi",
                                "items": {
                                  "$ref": "#/components/schemas/interval_hour"
                                }
                              },
                              "saturday": {
                                "type": "array",
                                "description": "Horaires du samedi",
                                "items": {
                                  "$ref": "#/components/schemas/interval_hour"
                                }
                              },
                              "sunday": {
                                "type": "array",
                                "description": "Horaires du dimanche",
                                "items": {
                                  "$ref": "#/components/schemas/interval_hour"
                                }
                              }
                            }
                          },
                          "maxWeight": {
                            "$ref": "#/components/schemas/mass"
                          }
                        },
                        "required": [
                          "address",
                          "coordinates",
                          "id",
                          "carrier",
                          "openingHours",
                          "maxWeight"
                        ]
                      }
                    }
                  }
                },
                "examples": {
                  "Exemple": {
                    "value": {
                      "pickupPoints": [
                        {
                          "address": {
                            "addressLine1": "168 RUE DES POSTES",
                            "postalCode": "59000",
                            "city": "Lille",
                            "country": "FR",
                            "title": "Point relais"
                          },
                          "coordinates": {
                            "latitude": 50.638386,
                            "longitude": 3.077183
                          },
                          "id": "q251zd564qz",
                          "openingHours": {
                            "monday": [
                              {
                                "start": "08:00",
                                "end": "19:30"
                              }
                            ],
                            "tuesday": [
                              {
                                "start": "08:00",
                                "end": "19:30"
                              }
                            ],
                            "wednesday": [
                              {
                                "start": "08:00",
                                "end": "19:30"
                              }
                            ],
                            "thursday": [
                              {
                                "start": "08:00",
                                "end": "19:30"
                              }
                            ],
                            "friday": [
                              {
                                "start": "08:00",
                                "end": "19:30"
                              }
                            ],
                            "saturday": [
                              {
                                "start": "08:00",
                                "end": "16:00"
                              }
                            ],
                            "sunday": [
                              {
                                "start": "08:00",
                                "end": "12:00"
                              }
                            ]
                          },
                          "maxWeight": {
                            "value": 250,
                            "unit": "kg"
                          }
                        }
                      ]
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Des élèments sont manquants et/ou incorrect dans le body. ",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "reasons": {
                      "type": "array",
                      "items": {
                        "type": "string",
                        "example": "Missing argument 'xxxxx'"
                      }
                    }
                  }
                },
                "examples": {
                  "Exemple": {
                    "value": {
                      "reasons": [
                        "Missing argument 'xxxxx'"
                      ]
                    }
                  }
                }
              }
            }
          }
        },
        "operationId": "getPickupPoints",
        "description": "Cette méthode permet de récupérer la liste des point relais situés autour d’une géolocalisation donnée.",
        "parameters": [
          {
            "$ref": "#/components/parameters/queryLatitude"
          },
          {
            "$ref": "#/components/parameters/queryLongitude"
          },
          {
            "$ref": "#/components/parameters/queryNumber"
          },
          {
            "$ref": "#/components/parameters/queryKilometricDistance"
          },
          {
            "$ref": "#/components/parameters/queryPickupPointType"
          },
          {
            "$ref": "#/components/parameters/queryPickupPointCategory"
          }
        ]
      }
    },
    "/labels/{labelId}": {
      "get": {
        "summary": "Récupération d'une étiquette",
        "description": "Récupération d'une étiquette au format demandé",
        "operationId": "getLabelById",
        "tags": [
          "Étiquette"
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/pathLabelId"
          },
          {
            "in": "query",
            "required": true,
            "name": "mode",
            "description": "Format demandé de l'étiquette",
            "schema": {
              "type": "string",
              "enum": [
                "zpl",
                "pdf",
                "jpg",
                "jpeg"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK, contient l'étiquette en base64",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "label": {
                      "type": "string",
                      "description": "Étiquette en base64"
                    }
                  },
                  "required": [
                    "label"
                  ]
                },
                "examples": {
                  "Exemple": {
                    "value": {
                      "label": "UklGRvwNAABXRUJQVlA4TPANAAAvhoAKEPVgtLZ"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Elements manquants et/ou incorrect dans le body",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "reasons": {
                      "type": "array",
                      "items": {
                        "type": "string",
                        "example": "Missing argument 'xxxxx'"
                      }
                    }
                  }
                },
                "examples": {
                  "Exemple": {
                    "value": {
                      "reasons": [
                        "Missing argument 'xxxxx'"
                      ]
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Le 'labelId' n'existe pas"
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "address": {
        "x-examples": {
          "Exemple": {
            "addressLine1": "179 boulevard de Turien",
            "addressLine2": "Woop",
            "elevator": true,
            "floor": 8,
            "postalCode": "59000",
            "city": "Lille",
            "country": "FR"
          }
        },
        "type": "object",
        "description": "Ensemble des informations utiles pour une adresse livraison/prélèvement.",
        "title": "Adresse (address)",
        "properties": {
          "addressLine1": {
            "type": "string",
            "description": "Adresse complète du lieu principal"
          },
          "addressLine2": {
            "type": "string",
            "description": "Adresse complémentaire du lieu"
          },
          "elevator": {
            "type": "boolean",
            "description": "Indique si l’adresse possède un ascenseur\nValeur par défaut : FALSE"
          },
          "floor": {
            "type": "integer",
            "description": "Précise l’étage de l’adresse en question\nValeur par défaut : 0"
          },
          "postalCode": {
            "type": "string",
            "description": "Correspond au code postal associé à l’adresse principale"
          },
          "doorCode": {
            "type": "string",
            "description": "Digicode"
          },
          "city": {
            "type": "string",
            "description": "Intitulé de la ville"
          },
          "district": {
            "type": "string",
            "description": "Intitulé de l’arrondissement"
          },
          "country": {
            "type": "string",
            "enum": [
              "FR",
              "BE"
            ],
            "description": "Correspond au code Pays (ISO 3166-1 alpha-2)"
          },
          "comment": {
            "type": "string",
            "description": "Commentaire libre d’utilisation"
          }
        },
        "required": [
          "addressLine1",
          "postalCode",
          "city",
          "country"
        ]
      },
      "addressWithoutSensitiveData": {
        "title": "Adresse sans digicode (addressWithoutSensitiveData)",
        "type": "object",
        "description": "Informations d'une adresse sans digicode.",
        "properties": {
          "addressLine1": {
            "type": "string",
            "description": "Adresse complète du lieu principal"
          },
          "addressLine2": {
            "type": "string",
            "description": "Adresse complémentaire du lieu"
          },
          "elevator": {
            "type": "boolean",
            "description": "Indique si l’adresse possède un ascenseur\nValeur par défaut : FALSE"
          },
          "floor": {
            "type": "integer",
            "description": "Précise l’étage de l’adresse en question\nValeur par défaut : 0"
          },
          "postalCode": {
            "type": "string",
            "description": "Correspond au code postal associé à l’adresse principale"
          },
          "city": {
            "type": "string",
            "description": "Intitulé de la ville"
          },
          "district": {
            "type": "string",
            "description": "Intitulé de l’arrondissement"
          },
          "country": {
            "type": "string",
            "enum": [
              "FR",
              "BE"
            ],
            "description": "Correspond au code Pays (ISO 3166-1 alpha-2)"
          },
          "pickupPointId": {
            "type": "string",
            "description": "Identifiant du point relais. Présent si le service de livraison est \"SERVICE_PICKUP_POINT\""
          }
        },
        "required": [
          "addressLine1",
          "postalCode",
          "city",
          "country"
        ],
        "x-examples": {
          "Exemple": {
            "addressLine1": "179 boulevard de Turien",
            "addressLine2": "Woop",
            "elevator": true,
            "floor": 8,
            "postalCode": "59000",
            "city": "Lille",
            "country": "FR"
          }
        }
      },
      "interval": {
        "title": "Créneau de dates (interval)",
        "description": "Précise un interval de date avec l'heure",
        "type": "object",
        "properties": {
          "start": {
            "type": "string",
            "format": "datetime",
            "description": "Début du créneau"
          },
          "end": {
            "type": "string",
            "format": "datetime",
            "description": "Fin du créneau"
          }
        },
        "required": [
          "start",
          "end"
        ],
        "x-examples": {
          "Exemple": {
            "start": "2019-05-02T15:52:01+0000",
            "end": "2019-05-02T17:52:01+0000"
          }
        }
      },
      "contact": {
        "description": "Informations personnelles sur le contact de livraison et/ou de prélèvement.",
        "type": "object",
        "properties": {
          "firstName": {
            "type": "string",
            "description": "Correspond au prénom du client final"
          },
          "lastName": {
            "type": "string",
            "description": "Correspond au nom de famille du client final"
          },
          "phone": {
            "type": "string",
            "description": "Correspond au numéro de téléphone du client final"
          },
          "email": {
            "type": "string",
            "description": "Correspond à l’email du client final"
          }
        },
        "required": [
          "firstName",
          "lastName",
          "phone",
          "email"
        ],
        "title": "Contact (contact)"
      },
      "tags": {
        "type": "array",
        "description": "Permet de définir des \"marqueurs\" sur cette commande.",
        "items": {
          "type": "object",
          "required": [
            "key",
            "value"
          ],
          "properties": {
            "key": {
              "type": "string",
              "example": "origin"
            },
            "value": {
              "type": "string",
              "example": "web"
            }
          }
        },
        "title": "Tags (tags)"
      },
      "contactWithLocalization": {
        "description": "Informations personnelles sur le contact de livraison et/ou de prélèvement.",
        "type": "object",
        "properties": {
          "firstName": {
            "type": "string",
            "description": "Correspond au prénom du client final"
          },
          "lastName": {
            "type": "string",
            "description": "Correspond au nom de famille du client final"
          },
          "phone": {
            "type": "string",
            "description": "Correspond au numéro de téléphone du client final"
          },
          "email": {
            "type": "string",
            "description": "Correspond à l’email du client final"
          },
          "language": {
            "type": "string",
            "description": "Correspond à la langue du client final"
          },
          "timezone": {
            "type": "string",
            "description": "Correspond au fuseau horaire de livraison du client final"
          }
        },
        "required": [
          "firstName",
          "lastName",
          "phone",
          "email",
          "language",
          "timezone"
        ],
        "title": "Contact (contactWithLocalization)"
      },
      "services": {
        "type": "array",
        "items": {
          "$ref": "#/components/schemas/deliveryService"
        },
        "title": "Services de livraison (services)",
        "description": "Précise les services de livraison possible. ",
        "x-examples": {
          "Exemple": [
            "SERVICE_SELECTED_ROOM"
          ]
        }
      },
      "package": {
        "type": "object",
        "description": "Unité de manutention propre à l'enseigne. Généralement utilisé comme un ensemble des produits de la commande regroupé par colis.",
        "title": "Colis (package)",
        "x-examples": {
          "example-1": {
            "references": [
              "string"
            ],
            "length": {
              "value": 0,
              "unit": "cm"
            },
            "width": {
              "value": 0,
              "unit": "cm"
            },
            "height": {
              "value": 0,
              "unit": "cm"
            },
            "weight": {
              "value": 0,
              "unit": "kg"
            },
            "products": [
              {
                "type": "TYPOLOGY_GENERIC",
                "ean": "string",
                "cug": "string",
                "label": "string",
                "quantity": 1
              }
            ],
            "quantity": 0
          }
        },
        "properties": {
          "references": {
            "type": "array",
            "description": "Références internes des colis si fournies par l'enseigne",
            "items": {
              "type": "string"
            }
          },
          "length": {
            "$ref": "#/components/schemas/length"
          },
          "width": {
            "$ref": "#/components/schemas/length"
          },
          "height": {
            "$ref": "#/components/schemas/length"
          },
          "weight": {
            "$ref": "#/components/schemas/mass"
          },
          "products": {
            "type": "array",
            "description": "Liste des produits dans le colis",
            "items": {
              "type": "object",
              "properties": {
                "type": {
                  "$ref": "#/components/schemas/productType"
                },
                "ean": {
                  "type": "string",
                  "description": "Ean du produit"
                },
                "cug": {
                  "type": "string",
                  "description": "Cug du produit"
                },
                "label": {
                  "type": "string",
                  "description": "Libellé du produit"
                },
                "quantity": {
                  "type": "integer",
                  "default": 1,
                  "description": "Quantité de produit dans le colis"
                }
              },
              "required": [
                "type"
              ]
            }
          },
          "quantity": {
            "type": "integer",
            "description": "Quantité de colis"
          }
        },
        "required": [
          "length",
          "width",
          "height",
          "weight",
          "quantity"
        ]
      },
      "quote": {
        "title": "Devis (quote)",
        "description": "Informations sur le devis.",
        "type": "object",
        "properties": {
          "quoteId": {
            "type": "string",
            "description": "Identifiant unique faisant référence au devis envoyé par le transporteur. Attention, cet identifiant doit être unique à la commande. "
          },
          "price": {
            "$ref": "#/components/schemas/price"
          },
          "vehicleType": {
            "$ref": "#/components/schemas/vehicleType"
          }
        }
      },
      "notation": {
        "title": "Note client (notation)",
        "description": "Précise la note obtenu sur la livraison de la part du client final. ",
        "x-examples": {
          "Exemple": {
            "score": [
              {
                "note": 8,
                "type": "SCORE_TYPE_RECOMMENDATION"
              }
            ],
            "comment": "Top!"
          }
        },
        "type": "object",
        "properties": {
          "score": {
            "type": "array",
            "description": "Liste des scores",
            "items": {
              "$ref": "#/components/schemas/score"
            }
          },
          "comment": {
            "type": "string"
          }
        },
        "required": [
          "score",
          "comment"
        ]
      },
      "score": {
        "type": "object",
        "title": "Score (score)",
        "description": "Précise le score obtenu lors de la livraison. ",
        "x-examples": {
          "Score de recommendation": {
            "note": 6,
            "type": "SCORE_TYPE_RECOMMENDATION"
          },
          "Score de satisfaction": {
            "note": 9,
            "type": "SCORE_TYPE_SATISFACTION"
          }
        },
        "properties": {
          "note": {
            "type": "number",
            "description": "Note sur 10"
          },
          "type": {
            "type": "string",
            "enum": [
              "SCORE_TYPE_RECOMMENDATION",
              "SCORE_TYPE_SATISFACTION"
            ],
            "description": "Type de score"
          }
        },
        "required": [
          "note",
          "type"
        ]
      },
      "length": {
        "description": "Précise la dimension d'un colis.",
        "type": "object",
        "title": "Dimension (length)",
        "properties": {
          "value": {
            "type": "number",
            "format": "float",
            "description": ""
          },
          "unit": {
            "$ref": "#/components/schemas/lengthUnit"
          }
        },
        "required": [
          "value",
          "unit"
        ]
      },
      "mass": {
        "description": "Précise le poids d'un colis/produit.",
        "type": "object",
        "properties": {
          "value": {
            "type": "number",
            "format": "float",
            "description": "Valeur indicative du poids"
          },
          "unit": {
            "$ref": "#/components/schemas/massUnit"
          }
        },
        "required": [
          "value",
          "unit"
        ],
        "title": "Poids (mass)"
      },
      "retailer": {
        "title": "Enseigne (retailer)",
        "description": "Précise les informations propre à l'identification de l'enseigne lors d'une livraison. ",
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Nom de l'enseigne"
          },
          "id": {
            "type": "string",
            "description": "Identifiant de l'enseigne"
          },
          "store": {
            "type": "object",
            "required": [
              "id",
              "name",
              "contact"
            ],
            "description": "Magasin de l'enseigne",
            "properties": {
              "id": {
                "type": "string",
                "description": "Identifiant du magasin"
              },
              "name": {
                "type": "string",
                "description": "Nom du magasin"
              },
              "contact": {
                "$ref": "#/components/schemas/contact"
              }
            }
          }
        },
        "required": [
          "name",
          "id",
          "store"
        ]
      },
      "price": {
        "description": "Correspond au prix du devis",
        "type": "object",
        "title": "Prix du devis",
        "properties": {
          "value": {
            "type": "number",
            "format": "float",
            "description": "Valeur indicative du prix",
            "exclusiveMinimum": true,
            "minimum": 0
          },
          "currency": {
            "$ref": "#/components/schemas/currency"
          }
        }
      },
      "refusedReason": {
        "type": "string",
        "description": "Précise les raisons de refus possible décrit dans l'article associé : \"Motifs de refus\".",
        "title": "Motif de refus (refusedReason)",
        "enum": [
          "REFUSED_AREA",
          "REFUSED_AVAILABILITY",
          "REFUSED_DAY_OFF",
          "REFUSED_EXCEPTION",
          "REFUSED_TIME_NOT_WORKED",
          "REFUSED_TOO_HEAVY",
          "REFUSED_TOO_LARGE"
        ],
        "example": "REFUSED_AREA",
        "x-examples": {
          "Exemple": "REFUSED_AREA"
        }
      },
      "cancelledReason": {
        "type": "string",
        "enum": [
          "CANCELLED_CANNOT_SERVICE",
          "CANCELLED_UNKNOWN",
          "CANCELLED_PREPARATION_DELAYED",
          "CANCELLED_BY_CLIENT",
          "CANCELLED_NEW_ADDRESS",
          "CANCELLED_INCOMPLETE"
        ],
        "description": "Liste regroupant l’ensemble des motifs d’annulation possible pour une livraison",
        "title": "Motif d'annulation d'une livraison (cancelledReason)",
        "x-examples": {
          "Exemple": "CANCELLED_CANNOT_SERVICE"
        }
      },
      "deliveryService": {
        "enum": [
          "SERVICE_SELECTED_ROOM",
          "SERVICE_FRONT_HOME",
          "SERVICE_UNPACKING",
          "SERVICE_INSTALL",
          "SERVICE_RECOVERY",
          "SERVICE_PICKUP_POINT",
          "SERVICE_REGULAR_FRONT_HOME",
          "SERVICE_SIMPLE_INSTALL",
          "SERVICE_COMPLEX_INSTALL",
          "SERVICE_ASSEMBLY"
        ],
        "title": "Service de livraison (deliveryService)",
        "description": "Précise les différents service de livraison possible au sein de la plateforme. ",
        "x-examples": {
          "Exemple": "SERVICE_SELECTED_ROOM"
        },
        "type": "string"
      },
      "vehicleType": {
        "type": "string",
        "enum": [
          "VEHICLE_TYPE_BIKE",
          "VEHICLE_TYPE_SCOOTER",
          "VEHICLE_TYPE_E_SCOOTER",
          "VEHICLE_TYPE_VAN_SMALL",
          "VEHICLE_TYPE_E_VAN_SMALL",
          "VEHICLE_TYPE_VAN_MEDIUM",
          "VEHICLE_TYPE_PEDESTRIAN",
          "VEHICLE_TYPE_TRUCK",
          "VEHICLE_TYPE_VAN_BIG",
          "VEHICLE_TYPE_E_VAN_BIG",
          "VEHICLE_TYPE_BIKE_CARGO",
          "VEHICLE_TYPE_CAR",
          "VEHICLE_TYPE_E_CAR",
          "VEHICLE_TYPE_GAZ_VAN_BIG",
          "VEHICLE_TYPE_GAZ_VAN_MEDIUM"
        ],
        "title": "Type de véhicule (vehicleType)",
        "description": "Précise le type de véhicule utilisé lors de la livraison.",
        "x-examples": {
          "Exemple": "VEHICLE_TYPE_BIKE"
        }
      },
      "productType": {
        "type": "string",
        "enum": [
          "TYPOLOGY_GENERIC",
          "TYPOLOGY_GROCERY",
          "TYPOLOGY_FRESH",
          "TYPOLOGY_FROZEN",
          "TYPOLOGY_DANGEROUS",
          "TYPOLOGY_HOUSEHOLD",
          "TYPOLOGY_VOLUMINOUS",
          "TYPOLOGY_FRAGILE",
          "TYPOLOGY_VOLUMINOUS_FRAGILE",
          "TYPOLOGY_LARGE_HOUSEHOLD",
          "TYPOLOGY_PALLET_GENERIC",
          "TYPOLOGY_NON_STANDARD"
        ],
        "title": "Typologie de produit (productType)",
        "description": "Précise la typologie d'un produit.",
        "x-examples": {
          "Exemple": "TYPOLOGY_GENERIC"
        }
      },
      "currency": {
        "type": "string",
        "enum": [
          "EUR"
        ],
        "description": "Devise, précise la monnaie utilisée.",
        "title": "Devise (currency)",
        "x-examples": {
          "Exemple": "EUR"
        }
      },
      "lengthUnit": {
        "type": "string",
        "enum": [
          "mm",
          "cm",
          "m",
          "in",
          "ft-us",
          "ft",
          "mi"
        ],
        "description": "Précise l'unité de longueur.",
        "default": "cm",
        "title": "Unité de mesure (lengthUnit)"
      },
      "massUnit": {
        "type": "string",
        "enum": [
          "mcg",
          "mg",
          "g",
          "kg",
          "oz",
          "lb",
          "mt",
          "t"
        ],
        "description": "Précise l'unité de poids.",
        "default": "kg",
        "title": "Unité de poids (massUnit)",
        "x-examples": {
          "Exemple": "kg"
        }
      },
      "withoutContact": {
        "required": [
          "address",
          "interval"
        ],
        "properties": {
          "address": {
            "$ref": "#/components/schemas/addressWithoutSensitiveData"
          },
          "infos": {
            "type": "string"
          },
          "interval": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/interval"
            }
          }
        },
        "title": "Informations sur l'adresse de prélèvement ou livraison",
        "description": "Informations sur l'adresse de prélèvement ou livraison."
      },
      "withContact": {
        "required": [
          "address",
          "interval",
          "contact"
        ],
        "properties": {
          "address": {
            "$ref": "#/components/schemas/address"
          },
          "infos": {
            "type": "string"
          },
          "interval": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/interval"
            }
          },
          "contact": {
            "$ref": "#/components/schemas/contact"
          }
        },
        "title": "Informations sur l'adresse de prélèvement",
        "description": "Informations de l'adresse de prélèvement."
      },
      "withContactAndLocalization": {
        "required": [
          "address",
          "interval",
          "contact"
        ],
        "properties": {
          "address": {
            "$ref": "#/components/schemas/address"
          },
          "infos": {
            "type": "string"
          },
          "interval": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/interval"
            }
          },
          "contact": {
            "$ref": "#/components/schemas/contactWithLocalization"
          }
        },
        "title": "Informations sur l'adresse de livraison",
        "description": "Informations sur l'adresse de livraison."
      },
      "postQuote": {
        "allOf": [
          {
            "$ref": "#/components/schemas/deliveryInformations"
          },
          {
            "required": [
              "picking",
              "delivery"
            ],
            "properties": {
              "picking": {
                "$ref": "#/components/schemas/withoutContact"
              },
              "delivery": {
                "$ref": "#/components/schemas/withoutContact"
              }
            }
          }
        ],
        "description": "Informations nécessaire à la création d'un devis de livraison.",
        "title": "Informations de demande de devis (postQuote)"
      },
      "postDelivery": {
        "allOf": [
          {
            "$ref": "#/components/schemas/postDeliveryInformations"
          },
          {
            "required": [
              "quoteId",
              "picking",
              "delivery"
            ],
            "properties": {
              "picking": {
                "$ref": "#/components/schemas/withContact"
              },
              "delivery": {
                "$ref": "#/components/schemas/withContactAndLocalization"
              }
            }
          }
        ],
        "title": "Demande livraison (postDelivery)",
        "description": "Précise les informations utiles à la création d'une demande de création de livraison. "
      },
      "deliveryInformations": {
        "description": "Informations de livraison.",
        "type": "object",
        "title": "Informations de livraison (deliveryInformations)",
        "x-examples": {
          "Exemple": {
            "orderId": "65zq1d5qz1d56q1",
            "referenceNumber": "65zq1d5qz1d56q1-456",
            "retailer": {
              "name": "Enseigne A",
              "id": "ret123",
              "store": {
                "id": "store123",
                "name": "Magasin C",
                "contact": {
                  "firstName": "Pierre",
                  "lastName": "Dupond",
                  "phone": "+33600000000",
                  "email": "pierre.dupond@mail.fr"
                }
              }
            },
            "picking": {
              "contact": {
                "firstName": "Michel",
                "lastName": "Dupont",
                "phone": "+33600000000",
                "email": "michel.dupont@mail.fr"
              },
              "address": {
                "addressLine1": "237 rue du Ballon",
                "addressLine2": "Niji",
                "postalCode": "59110",
                "city": "La Madeleine",
                "country": "FR"
              },
              "infos": "Travaux en ce moment attention.",
              "interval": [
                {
                  "start": "2019-12-04T12:30:00+0000",
                  "end": "2019-12-04T13:30:00+0000"
                }
              ]
            },
            "delivery": {
              "contact": {
                "firstName": "John",
                "lastName": "Doe",
                "phone": "+33600000000",
                "email": "john.doe@mail.fr",
                "language": "fr-FR",
                "timezone": "Europe/Paris"
              },
              "address": {
                "addressLine1": "165 avenue de Bretagne",
                "elevator": true,
                "floor": 2,
                "postalCode": "59000",
                "city": "Lille",
                "country": "FR"
              },
              "interval": [
                {
                  "start": "2019-12-06T13:00:00+0000",
                  "end": "2019-12-06T15:00:00+0000"
                }
              ]
            },
            "packages": [
              {
                "length": {
                  "value": 15,
                  "unit": "cm"
                },
                "width": {
                  "value": 35.5,
                  "unit": "cm"
                },
                "height": {
                  "value": 1.25,
                  "unit": "m"
                },
                "weight": {
                  "value": 12.35,
                  "unit": "kg"
                },
                "products": [
                  {
                    "type": "TYPOLOGY_GENERIC",
                    "ean": "4897567123548",
                    "cug": "e21fe21",
                    "label": "Armoire",
                    "quantity": 1
                  }
                ],
                "reference": "1234A",
                "quantity": 1
              }
            ],
            "services": [
              "SERVICE_SELECTED_ROOM"
            ]
          }
        },
        "properties": {
          "orderId": {
            "type": "string",
            "description": "Identifiant unique de la commande à renseigner par l'enseigne. 1 orderId = 1 commande"
          },
          "referenceNumber": {
            "type": "string",
            "description": "Référence de la commande, numéro associé à un magasin. Pouvant être égale à l'orderId. Le referenceNumber n'est pas unique."
          },
          "productsPrice": {
            "$ref": "#/components/schemas/productPrice"
          },
          "retailer": {
            "$ref": "#/components/schemas/retailer"
          },
          "packages": {
            "type": "array",
            "description": "Unité de manutention propre à l'enseigne. Généralement utilisé comme un l'ensemble des produits de la commande regroupé par colis",
            "items": {
              "$ref": "#/components/schemas/package"
            }
          },
          "services": {
            "$ref": "#/components/schemas/services"
          },
          "tags": {
            "$ref": "#/components/schemas/tags"
          }
        },
        "required": [
          "orderId",
          "referenceNumber",
          "retailer",
          "packages",
          "services"
        ]
      },
      "postDeliveryInformations": {
        "title": "Informations de demande de livraison (postDeliveryInformations)",
        "description": "Informations de demande de livraison.",
        "type": "object",
        "x-examples": {
          "example": {
            "orderId": "string",
            "quoteId": "string",
            "referenceNumber": "string",
            "productsPrice": {
              "value": 0,
              "currency": "EUR"
            },
            "retailer": {
              "name": "string",
              "id": "string",
              "store": {
                "id": "string",
                "name": "string",
                "contact": {
                  "firstName": "string",
                  "lastName": "string",
                  "phone": "string",
                  "email": "string"
                }
              }
            },
            "packages": [
              {
                "references": [
                  "string"
                ],
                "length": {
                  "value": 0,
                  "unit": "cm"
                },
                "width": {
                  "value": 0,
                  "unit": "cm"
                },
                "height": {
                  "value": 0,
                  "unit": "cm"
                },
                "weight": {
                  "value": 0,
                  "unit": "kg"
                },
                "products": [
                  {
                    "type": "TYPOLOGY_GENERIC",
                    "ean": "string",
                    "cug": "string",
                    "label": "string",
                    "quantity": 1
                  }
                ],
                "quantity": 0
              }
            ],
            "services": [
              "SERVICE_SELECTED_ROOM"
            ],
            "tags": [
              {
                "key": "origin",
                "value": "web"
              }
            ]
          }
        },
        "properties": {
          "orderId": {
            "type": "string",
            "description": "Identifiant unique de la commande à renseigner par l'enseigne. 1 orderId = 1 commande"
          },
          "referenceNumber": {
            "type": "string",
            "description": "Référence de la commande, numéro associé à un magasin. Pouvant être égale à l'orderId. Le referenceNumber n'est pas unique. "
          },
          "productsPrice": {
            "$ref": "#/components/schemas/productPrice"
          },
          "retailer": {
            "$ref": "#/components/schemas/retailer"
          },
          "packages": {
            "type": "array",
            "description": "Ensemble des colis",
            "items": {
              "$ref": "#/components/schemas/package"
            }
          },
          "services": {
            "$ref": "#/components/schemas/services"
          },
          "tags": {
            "$ref": "#/components/schemas/tags"
          },
          "quoteId": {
            "type": "string",
            "description": "Identifiant unique référence du devis de la commande initiale"
          }
        },
        "required": [
          "orderId",
          "referenceNumber",
          "retailer",
          "packages",
          "services",
          "quoteId"
        ]
      },
      "deliveryCreated": {
        "type": "object",
        "description": "Informations retour à la création d'une livraison. ",
        "title": "Retour d'information (deliveryCreated)",
        "x-examples": {
          "Exemple": {
            "deliveryId": "1123663GHG"
          }
        },
        "properties": {
          "deliveryId": {
            "type": "string",
            "description": "Identifiant unique de la livraison envoyé par le transporteur. Attention, cet identifiant doit être unique à la commande. "
          },
          "externalReference": {
            "type": "string",
            "description": "Référence de livraison"
          },
          "packages": {
            "type": "array",
            "description": "Informations sur les colis",
            "items": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "string"
                }
              }
            }
          },
          "labels": {
            "type": "array",
            "description": "Informations sur les étiquettes de livraison",
            "items": {
              "$ref": "#/components/schemas/label"
            }
          }
        },
        "required": [
          "deliveryId"
        ]
      },
      "coordinates": {
        "type": "object",
        "description": "Précise les coordonnées géographiques à utiliser pour la création.",
        "x-examples": {
          "Exemple": {
            "latitude": 50.63833,
            "longitude": 3.077359
          }
        },
        "title": "Coordonnées géographiques (coordinates)",
        "properties": {
          "latitude": {
            "type": "number",
            "description": "Latitude"
          },
          "longitude": {
            "type": "number",
            "description": "Longitude"
          }
        },
        "required": [
          "latitude",
          "longitude"
        ]
      },
      "interval_hour": {
        "type": "object",
        "properties": {
          "start": {
            "type": "string",
            "format": "time"
          },
          "end": {
            "type": "string",
            "format": "time"
          }
        },
        "required": [
          "start",
          "end"
        ],
        "x-examples": {
          "Exemple": {
            "start": "14:00",
            "end": "18:00"
          }
        },
        "description": "Précise l'interval de date d'ouverture.",
        "title": "Créneau horaires (interval_hour)"
      },
      "productPrice": {
        "title": "Prix de vente des produits (price)",
        "type": "object",
        "description": "Correspond au prix de vente des produits. Renseigné si la livraison est effectuée avec le service “SERVICE_INSTALL”.",
        "properties": {
          "value": {
            "type": "number",
            "format": "float",
            "exclusiveMinimum": true,
            "minimum": 0
          },
          "currency": {
            "$ref": "#/components/schemas/currency"
          }
        }
      },
      "label": {
        "description": "Étiquette de transport",
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Identifiant de l'étiquette"
          },
          "type": {
            "type": "string",
            "description": "Type d'envoi de l'étiquette",
            "enum": [
              "base64",
              "url"
            ]
          },
          "mode": {
            "type": "string",
            "description": "Format de l'étiquette",
            "enum": [
              "zpl",
              "pdf",
              "jpg",
              "jpeg"
            ]
          },
          "value": {
            "type": "string",
            "description": "Etiquette en base64 ou url vers l'étiquette"
          },
          "packageId:": {
            "type": "string",
            "description": "Identifiant du colis associé"
          }
        },
        "required": [
          "id"
        ],
        "title": "Étiquette (label)"
      }
    },
    "parameters": {
      "queryLatitude": {
        "in": "query",
        "required": true,
        "description": "Latitude du point de recherche",
        "name": "latitude",
        "schema": {
          "type": "number"
        }
      },
      "queryLongitude": {
        "in": "query",
        "description": "Longitude du point de recherche",
        "required": true,
        "name": "longitude",
        "schema": {
          "type": "number"
        }
      },
      "queryNumber": {
        "in": "query",
        "required": false,
        "description": "Nombre de points relais retournés",
        "name": "number",
        "schema": {
          "type": "integer",
          "maximum": 25,
          "default": 10
        }
      },
      "queryKilometricDistance": {
        "in": "query",
        "required": false,
        "description": "Distance en kilomètres du rayon de recherche",
        "name": "kilometricDistance",
        "schema": {
          "type": "integer",
          "maximum": 40,
          "default": 5
        }
      },
      "queryPickupPointType": {
        "in": "query",
        "required": false,
        "name": "type",
        "description": "Type de point relais",
        "schema": {
          "type": "string",
          "enum": [
            "PICKUP_POINT_AGENCY",
            "PICKUP_POINT_POST_OFFICE",
            "PICKUP_POINT_RELAY_WITH_LOCKER",
            "PICKUP_POINT_RELAY_WITHOUT_LOCKER",
            "PICKUP_POINT_ALL"
          ],
          "default": "PICKUP_POINT_RELAY_WITH_LOCKER"
        }
      },
      "queryPickupPointCategory": {
        "in": "query",
        "required": false,
        "name": "category",
        "description": "Catégorie de point relais",
        "schema": {
          "type": "string",
          "enum": [
            "PICKUP_POINT_STANDARD",
            "PICKUP_POINT_XL",
            "PICKUP_POINT_XXL",
            "PICKUP_POINT_DRIVE"
          ]
        }
      },
      "pathQuoteId": {
        "in": "path",
        "required": true,
        "description": "Identifiant de devis",
        "name": "quoteId",
        "schema": {
          "type": "string"
        }
      },
      "pathDeliveryId": {
        "in": "path",
        "required": true,
        "name": "deliveryId",
        "description": "Identifiant de livraison",
        "schema": {
          "type": "string"
        }
      },
      "pathLabelId": {
        "in": "path",
        "required": true,
        "name": "labelId",
        "description": "Identifiant de l'étiquette",
        "schema": {
          "type": "string"
        }
      }
    },
    "securitySchemes": {}
  },
  "servers": [],
  "tags": [
    {
      "name": "Livraison"
    },
    {
      "name": "Devis"
    },
    {
      "name": "Point Relais"
    },
    {
      "name": "Colis"
    },
    {
      "name": "Étiquette"
    }
  ]
}